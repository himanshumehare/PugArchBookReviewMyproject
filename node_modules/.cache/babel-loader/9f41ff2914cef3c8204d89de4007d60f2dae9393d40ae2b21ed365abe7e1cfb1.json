{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000/api';\nexport const apiFetch = async (path, options = {}) => {\n  const token = localStorage.getItem('token');\n  const headers = {\n    'Content-Type': 'application/json',\n    ...(options.headers || {})\n  };\n  if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  try {\n    const res = await fetch(`${API_BASE}${path}`, {\n      ...options,\n      headers\n    });\n    if (!res.ok) {\n      const error = await res.json().catch(() => ({}));\n      throw new Error(error.message || `Request failed: ${res.status}`);\n    }\n    return res.json();\n  } catch (error) {\n    console.error('API Error:', error);\n    throw error;\n  }\n};\n\n// Auth API calls\nexport const authAPI = {\n  register: userData => apiFetch('/auth/register', {\n    method: 'POST',\n    body: JSON.stringify(userData)\n  }),\n  login: credentials => apiFetch('/auth/login', {\n    method: 'POST',\n    body: JSON.stringify(credentials)\n  })\n};\n\n// Books API calls\nexport const booksAPI = {\n  getAll: () => apiFetch('/books'),\n  getById: id => apiFetch(`/books/${id}`)\n};\n\n// Reviews API calls\nexport const reviewsAPI = {\n  create: reviewData => apiFetch('/reviews', {\n    method: 'POST',\n    body: JSON.stringify(reviewData)\n  }),\n  getByBookId: bookId => apiFetch(`/reviews/${bookId}`),\n  getUserReviews: userId => apiFetch(`/reviews/user/${userId}`)\n};","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_BASE","apiFetch","path","options","token","localStorage","getItem","headers","Authorization","res","fetch","ok","error","json","catch","Error","message","status","console","authAPI","register","userData","method","body","JSON","stringify","login","credentials","booksAPI","getAll","getById","id","reviewsAPI","create","reviewData","getByBookId","bookId","getUserReviews","userId"],"sources":["C:/Users/himan/Desktop/My.website/frontend/src/api/client.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000/api';\r\n\r\nexport const apiFetch = async (path, options = {}) => {\r\n  const token = localStorage.getItem('token');\r\n  const headers = { \r\n    'Content-Type': 'application/json', \r\n    ...(options.headers || {}) \r\n  };\r\n  \r\n  if (token) {\r\n    headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  \r\n  try {\r\n    const res = await fetch(`${API_BASE}${path}`, { \r\n      ...options, \r\n      headers \r\n    });\r\n    \r\n    if (!res.ok) {\r\n      const error = await res.json().catch(() => ({}));\r\n      throw new Error(error.message || `Request failed: ${res.status}`);\r\n    }\r\n    \r\n    return res.json();\r\n  } catch (error) {\r\n    console.error('API Error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Auth API calls\r\nexport const authAPI = {\r\n  register: (userData) => apiFetch('/auth/register', {\r\n    method: 'POST',\r\n    body: JSON.stringify(userData)\r\n  }),\r\n  \r\n  login: (credentials) => apiFetch('/auth/login', {\r\n    method: 'POST',\r\n    body: JSON.stringify(credentials)\r\n  })\r\n};\r\n\r\n// Books API calls\r\nexport const booksAPI = {\r\n  getAll: () => apiFetch('/books'),\r\n  getById: (id) => apiFetch(`/books/${id}`)\r\n};\r\n\r\n// Reviews API calls\r\nexport const reviewsAPI = {\r\n  create: (reviewData) => apiFetch('/reviews', {\r\n    method: 'POST',\r\n    body: JSON.stringify(reviewData)\r\n  }),\r\n  getByBookId: (bookId) => apiFetch(`/reviews/${bookId}`),\r\n  getUserReviews: (userId) => apiFetch(`/reviews/user/${userId}`)\r\n};\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAI,2BAA2B;AAE9E,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,IAAI,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACpD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,OAAO,GAAG;IACd,cAAc,EAAE,kBAAkB;IAClC,IAAIJ,OAAO,CAACI,OAAO,IAAI,CAAC,CAAC;EAC3B,CAAC;EAED,IAAIH,KAAK,EAAE;IACTG,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAC3C;EAEA,IAAI;IACF,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGb,QAAQ,GAAGK,IAAI,EAAE,EAAE;MAC5C,GAAGC,OAAO;MACVI;IACF,CAAC,CAAC;IAEF,IAAI,CAACE,GAAG,CAACE,EAAE,EAAE;MACX,MAAMC,KAAK,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;MAChD,MAAM,IAAIC,KAAK,CAACH,KAAK,CAACI,OAAO,IAAI,mBAAmBP,GAAG,CAACQ,MAAM,EAAE,CAAC;IACnE;IAEA,OAAOR,GAAG,CAACI,IAAI,CAAC,CAAC;EACnB,CAAC,CAAC,OAAOD,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;IAClC,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMO,OAAO,GAAG;EACrBC,QAAQ,EAAGC,QAAQ,IAAKpB,QAAQ,CAAC,gBAAgB,EAAE;IACjDqB,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;EAC/B,CAAC,CAAC;EAEFK,KAAK,EAAGC,WAAW,IAAK1B,QAAQ,CAAC,aAAa,EAAE;IAC9CqB,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACE,WAAW;EAClC,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMC,QAAQ,GAAG;EACtBC,MAAM,EAAEA,CAAA,KAAM5B,QAAQ,CAAC,QAAQ,CAAC;EAChC6B,OAAO,EAAGC,EAAE,IAAK9B,QAAQ,CAAC,UAAU8B,EAAE,EAAE;AAC1C,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAG;EACxBC,MAAM,EAAGC,UAAU,IAAKjC,QAAQ,CAAC,UAAU,EAAE;IAC3CqB,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACS,UAAU;EACjC,CAAC,CAAC;EACFC,WAAW,EAAGC,MAAM,IAAKnC,QAAQ,CAAC,YAAYmC,MAAM,EAAE,CAAC;EACvDC,cAAc,EAAGC,MAAM,IAAKrC,QAAQ,CAAC,iBAAiBqC,MAAM,EAAE;AAChE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}